(ns app.db
  (:require
    [cljs.core.match :refer [match]]
    [reagent.core :as r]))


(def chart
  {" " ["wordspace"]
   "A" ["." "-"]
   "B" ["-" "." "." "."]
   "C" ["-" "." "-" "."]
   "D" ["-" "." "."]
   "E" ["."]
   "F" ["." "." "-" "."]
   "G" ["-" "-" "."]
   "H" ["." "." "." "."]
   "I" ["." "."]
   "J" ["." "-" "-" "-"]
   "K" ["-" "." "-"]
   "L" ["." "-" "." "."]
   "M" ["-" "-"]
   "N" ["-" "."]
   "O" ["-" "-" "-"]
   "P" ["." "-" "-" "."]
   "Q" ["-" "-" "." "-"]
   "R" ["." "-" "."]
   "S" ["." "." "."]
   "T" ["-"]
   "U" ["." "." "-"]
   "V" ["." "." "." "-"]
   "W" ["." "-" "-"]
   "X" ["-" "." "." "-"]
   "Y" ["-" "." "-" "-"]
   "Z" ["-" "-" "." "."]
   "1" ["." "-" "-" "-" "-"]
   "2" ["." "." "-" "-" "-"]
   "3" ["." "." "." "-" "-"]
   "4" ["." "." "." "." "-"]
   "5" ["." "." "." "." "."]
   "6" ["-" "." "." "." "."]
   "7" ["-" "-" "." "." "."]
   "8" ["-" "-" "-" "." "."]
   "9" ["-" "-" "-" "-" "."]
   "0" ["-" "-" "-" "-" "-"]
  })

(def groups [
  #{" " "A" "T" "E"} #{"N" "M"} #{"I"} #{"O" "S"} #{"D" "G"}
  #{"K" "R"} #{"S" "U"} #{"W"} #{"B"} #{"C"} #{"F"} #{"H"}
  #{"J"} #{"L"} #{"P" "Q"} #{"V" "X"} #{"Y" "Z"} #{"1" "2"}
  #{"3" "4"} #{"5" "6"} #{"7" "8"} #{"9" "0"}])

(def ticker {:time (.now js/Date)
             :count 0})

(def default_db 
  {:log []
   :unit 100
   :score 0
   :whitelistable-groups groups
   :whitelistable-index 0
   :whitelist #{" " "A" "E" "T"}
   :btn-type :click
   :challenge {:text "" :curr-code [] :state :waiting :index 0}
   :input-text ""
   :ticker ticker})
